<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CarRent API teszt</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
        function sendRequest(method, params = null) {
            var endpoint = getEndpoint(method);

            if (method == "POST") {
                var options = {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(params)
                };
            }

            fetch(endpoint, options)
                .then(response => response.json())
                .then(data => {
                    document.getElementById('response').value = JSON.stringify(data, null, 2);
                })
                .catch(error => {
                    document.getElementById('response').value = 'Error: ' + error.message;
                });
        }

        function getEndpoint(method) {
            switch (method) {
                case 'GET':
                    var button = document.activeElement;
                    switch (button.id) {
                        case 'car':
                            return '/cars';
                        case 'user':
                            return '/users';
                        default:
                            return '';
                    }
                default:
                    return '';
            }
        }
    </script>
</head>
<body>

    <div class="container mt-5">
        <h2 class="mb-4">API v gpont tesztel s</h2>
        <p class="mb-4">V gpontok:</p>

        <button type="button" id="car" class="btn btn-primary" onclick="sendRequest('GET')">Cars</button>
        <button type="button" id="user" class="btn btn-primary" onclick="sendRequest('GET')">Users</button>


        <div class="row mt-4">
            <div class="col">
                <div class="mb-3">
                    <label for="response" class="form-label">V lasz:</label>
                    <textarea class="form-control" id="response" rows="10" readonly></textarea>
                </div>
            </div>
        </div>
    </div>

</body>
</html>